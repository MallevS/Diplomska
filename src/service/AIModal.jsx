import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Las Vegas, for 3 Dats for Couple with a Cheap Budget. Give me a Hotels options list with HOtelName, Hotel address, Price, hotel image url, geo coordinates, rating,descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time Travel each of the location for 3 days with each day plan with best time to visin in JSON format" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "Okay, here's a detailed 3-day Las Vegas itinerary for a couple on a tight budget, presented in JSON format.  It emphasizes free attractions, affordable eats, and strategic timing to maximize your experience without breaking the bank.\n\n```json\n{\n  \"tripName\": \"Las Vegas on a Budget: 3-Day Couple's Getaway\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"currency\": \"USD\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"35-75\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/72/46/3d/exterior.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1293,\n        \"longitude\": -115.1667\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers affordable rates, free circus acts, and a large amusement park (Adventuredome). Rooms are basic, but it's a good option for budget travelers.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"40-80\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/36/69/e4/the-strat-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1478,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.7,\n      \"description\": \"Located at the north end of the Strip, Stratosphere offers stunning views from its tower (separate fee). Rooms are reasonably priced.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"45-90\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/cb/2c/83/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.0,\n      \"description\": \"A castle-themed hotel with affordable rooms and a family-friendly atmosphere.  Located at the south end of the Strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Fountain Shows\",\n      \"bestTimeToVisit\": \"Afternoon and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"A classic photo opportunity.  Get there early to avoid long lines.  Consider going at sunrise for the best light.\",\n          \"placeImageUrl\": \"https://www.lasvegas.com/wp-content/uploads/2023/06/Welcome-to-Fabulous-Las-Vegas-Sign-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0826,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"30-60 minutes\"\n        },\n        {\n          \"placeName\": \"Luxor Hotel & Casino\",\n          \"placeDetails\": \"Explore the interior of this pyramid-shaped hotel.  Walk around the casino and admire the architecture.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/a8/6f/19/luxor-hotel-casino.jpg?w=1200&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0956,\n            \"longitude\": -115.1759\n          },\n          \"ticketPricing\": \"Free (unless you enter specific exhibits)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Excalibur Hotel & Casino\",\n          \"placeDetails\": \"Wander through the medieval-themed Excalibur.  Enjoy the free shows and atmosphere.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1b/cb/2c/83/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0984,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free (unless you see a show)\",\n          \"rating\": 3.8,\n          \"timeTravel\": \"1 hour\"\n        },\n        {\n          \"placeName\": \"New York-New York Hotel & Casino\",\n          \"placeDetails\": \"Walk across the Brooklyn Bridge replica, take photos, and admire the architecture.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/27/42/2b/new-york-new-york-hotel.jpg?w=1200&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1026,\n            \"longitude\": -115.1747\n          },\n          \"ticketPricing\": \"Free (unless you ride the roller coaster)\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"1 hour\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"A spectacular free water show set to music. Shows run frequently in the afternoon and evening. Check the schedule online.\",\n          \"placeImageUrl\": \"https://www.wheretraveler.com/sites/default/files/styles/body_1200x630/public/Bellagio_Fountains-20170913_145400.jpg?itok=wXJgqW9W\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1745\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"1-2 hours (including waiting for shows)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Central Strip Wonders & Downtown Fremont Street\",\n      \"bestTimeToVisit\": \"Afternoon for the Strip, Evening for Fremont Street\",\n      \"places\": [\n        {\n          \"placeName\": \"The Venetian & The Palazzo\",\n          \"placeDetails\": \"Explore the Grand Canal Shoppes, watch the street performers, and take photos of the Venetian canals.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/b2/1d/94/venice.jpg?w=1200&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1213,\n            \"longitude\": -115.1723\n          },\n          \"ticketPricing\": \"Free (unless you ride a gondola)\",\n          \"rating\": 4.7,\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"A free volcano eruption show in front of the Mirage hotel.  Shows run in the evening.\",\n          \"placeImageUrl\": \"https://www.casino.org/news/wp-content/uploads/2023/02/mirage-volcano-1200x630.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1215,\n            \"longitude\": -115.1755\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"30-60 minutes (including waiting for the show)\"\n        },\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive video screen canopy and free light shows. Enjoy the street performers and atmosphere.\",\n          \"placeImageUrl\": \"https://www.fodors.com/wp-content/uploads/2023/02/HERO_UltimateGuide_FremontStreet_Hero_4x3-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"3-4 hours (including travel time to/from the Strip)\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller & Ethel M Chocolate Factory\",\n      \"bestTimeToVisit\": \"Late afternoon for High Roller, Morning for Ethel M\",\n      \"places\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"offers you 360-degree views of Las Vegas. Located at the LINQ Promenade.\",\n          \"placeImageUrl\": \"https://i.natgeofe.com/n/82415291-df39-4286-935a-1d5a78810c67/las-vegas-strip-high-roller_3x2.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1164,\n            \"longitude\": -115.1693\n          },\n          \"ticketPricing\": \"37\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"2 hours\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden.  A nice escape from the Strip.\",\n          \"placeImageUrl\": \"https://www.wheretraveler.com/sites/default/files/images/Ethel_M_Chocolates_116097373.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0327,\n            \"longitude\": -115.0755\n          },\n          \"ticketPricing\": \"Free (chocolate tasting may have a fee)\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"2-3 hours (including travel time)\"\n        },\n        {\n          \"placeName\": \"Optional:  Walk the LINQ Promenade\",\n          \"placeDetails\": \"Shop and explore the LINQ Promenade.  Watch the street performers.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/03/The-LINQ-Promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1166,\n            \"longitude\": -115.1690\n          },\n          \"ticketPricing\": \"Free (unless you shop or dine)\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"1-2 hours\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Walk as much as possible. Wear comfortable shoes.\",\n    \"Take advantage of free attractions and shows.\",\n    \"Eat at affordable restaurants or fast-food places. Consider grocery shopping for snacks and breakfast items.\",\n    \"Drink water instead of buying expensive drinks.  Bring a refillable water bottle.\",\n    \"Look for happy hour specials.\",\n    \"Consider using public transportation (the Deuce bus) for longer distances.\",\n    \"Avoid gambling if you're on a tight budget.\",\n    \"Look for free activities at your hotel, such as swimming pools or fitness centers.\",\n    \"Book your hotel in advance, especially if traveling during peak season.\",\n     \"take advantage of free parking\"\n  ]\n}\n```\n\n**Key Considerations for a Budget Trip:**\n\n*   **Transportation:** Walking is your best friend on the Strip.  The Deuce bus is an affordable option for longer distances. Avoid taxis and ride-sharing services as much as possible.\n*   **Food:**  Look for affordable restaurants off the main Strip.  Fast food, food courts, and grocery stores are your allies.  Consider bringing snacks.\n*   **Drinks:**  Las Vegas drinks can be expensive. Drink water to stay hydrated and avoid buying alcohol frequently.\n*   **Gambling:** It's easy to get caught up in the casinos, but stick to your budget and avoid gambling if you're trying to save money.\n*   **Free Activities:**  Las Vegas has tons of free things to do. Take advantage of them!\n*   **Hotel Location:** Hotels a bit off the Strip are often cheaper.  Consider the Stratosphere or hotels downtown.\n*   **Travel Time:**  Factor in travel time, especially when going downtown.\n\nThis itinerary is a starting point.  Adjust it to your interests and energy levels. Have a fantastic time in Las Vegas!\n" },
            ],
        },
    ],
});
